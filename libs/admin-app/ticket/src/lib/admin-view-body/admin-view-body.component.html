<!-- <div class="container">

  <div class="row mt-3">
    <div class="col-4">
      <button data-bs-toggle="collapse" data-bs-target="#filter_options" class="btn btn-outline-dark btn-block">
        Filter
      </button>
    </div>
    <div class="col-4">
      
    </div>
    <div class="col-4">
      <select class="form-select" (change)="sort()" id="sort_select" [(ngModel)]="selected_option">
        <option *ngFor="let option of sort_options" value="{{option}}">{{option}}</option>
      </select>
    </div>
  </div>

  <div id="filter_options" class="collapse">
    <div class="row mt-2">
      <div class="col-4">
        <b>Issue Type</b>
        <div class="form-check" *ngFor="let option of issues, index as i">
          <input class="form-check-input" type="checkbox" id="issue_filter{{i}}" value="{{option}}" (click)="filterByType('issue_filter' + i, option)">
          <label class="form-check-label">{{option}}</label>
        </div>
      </div>
      <div class="col-4">
        <b>City</b>
        <div class="form-check" *ngFor="let city of cities, index as i">
          <input class="form-check-input" type="checkbox" id="city_filter{{i}}" value="{{city}}" (click)="filterByCity('city_filter' + i, city)">
          <label class="form-check-label">{{city}}</label>
        </div>
      </div>
      <div class="col-4">
        <b>Status</b>
        <div class="form-check" *ngFor="let status of statuses, index as i">
          <input class="form-check-input status_inputs" type="checkbox" id="status_input_filter{{i}}" value="{{status}}" (click)="filterByStatus('status_input_filter' + i)">
          <label class="form-check-label">{{status}}</label>
        </div>
      </div>
    </div>
  </div>

  <table class="table table-hover mt-2">
    <thead>
      <tr>
        <th>Date Created</th>
        <th>Issue Type</th>
        <th>Location</th>
        <th>city</th>
        <th>status</th>
        <th>Upvotes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let ticket of tickets, index as i" (click)="viewTicket(ticket.ticket_id)" id="row{{i}}">
        <div class="d-none"></div>
        <td>{{ticket.ticket_create_date}}</td>
        <td>{{ticket.ticket_type}}</td>
        <td>{{ticket.ticket_location}}</td>
        <td>{{ticket.ticket_city}}</td>
        <td>{{ticket.ticket_status}}</td>
        <td>{{ticket.ticket_upvotes}}</td>
      </tr>
    </tbody>
  </table>
</div> -->
<div class="bodyContainer">
  <button class="filterButton" (click)="drawer.toggle()" mat-button>
    filter
  </button>

  <mat-drawer-container hasBackdrop="false">
    <mat-drawer #drawer mode="over">
      <div class="filterContainers">
        <div> <b> City</b></div>
        <div *ngFor="let city of cities, index as i">
          <mat-checkbox 
          name="{{city.name}}"
          (change)="filter($event, 'city')"
          [(ngModel)]="city.checked"
          color="primary">{{city.name}}</mat-checkbox>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="filterContainers">
        <div> <b> Issues</b></div>
        <div *ngFor="let issue of issues, index as i">
          <mat-checkbox color="primary"
          name="{{issue.name}}"
          (change)="filter($event, 'issue')"
          [(ngModel)]="issue.checked"
          >{{issue.name}}</mat-checkbox>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="filterContainers">
        <div> <b> Status</b></div>
        <div *ngFor="let status of statuses, index as i">
          <mat-checkbox color="primary"
          name="{{status.name}}"
          (change)="filter($event, 'status')"
          [(ngModel)]="status.checked"
          >
          {{status.name}}
        </mat-checkbox>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="filterContainers">
        <button mat-button (click)="resetFilters()">reset</button>
      </div>
    </mat-drawer>
    <mat-drawer-content>
      <table
        mat-table
        [dataSource]="dataSource"
        class="mat-elevation-z8"
        matSort
        (matSortChange)="announceSortChange($event)"
      >
        <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

        <!-- Date Column -->
        <ng-container matColumnDef="Date">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            Date
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.ticket_create_date }}
          </td>
        </ng-container>

        <!-- Issue Column -->
        <ng-container matColumnDef="Issue">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            Issue
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.ticket_type }}
          </td>
        </ng-container>

        <!-- Location Column -->
        <ng-container matColumnDef="Location">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ticket_location }}
          </td>
        </ng-container>

        <!-- City Column -->
        <ng-container matColumnDef="City">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>City</th>
          <td mat-cell *matCellDef="let element">{{ element.ticket_city }}</td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="Status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ticket_status }}
          </td>
        </ng-container>

        <!-- Upvotes Column -->
        <ng-container matColumnDef="Upvotes">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Upvotes</th>
          <td mat-cell *matCellDef="let element">
            {{ element.ticket_upvotes }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          (click)="viewTicket(row.ticket_id)"
        ></tr>
      </table>
    </mat-drawer-content>
  </mat-drawer-container>
</div>
